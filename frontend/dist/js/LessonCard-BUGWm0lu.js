import{j as e}from"./react-core-JVqWokWt.js";import{C as s,J as a,A as t,v as l,c as r,L as n,B as i}from"./main-fde3JC90.js";import{ab as d,aD as c,aE as m,aF as x,aG as o,bR as h}from"./vendor-DC2AZkDs.js";const f=({lesson:f})=>{const j=((e,s)=>{if(!e||!s)return null;const a=new Date(`${e}T${s}`);return isNaN(a.getTime())?null:a})(f.date,f.start_time),p=!!j&&j>new Date,u={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};return e.jsxs(s,{className:"border-l-4 overflow-hidden transition-shadow hover:shadow-md "+(p?"border-l-blue-500":"border-l-gray-400"),children:[e.jsx(a,{className:"pb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex gap-3 flex-1 min-w-0",children:[e.jsx(t,{className:"w-10 h-10 flex-shrink-0",children:e.jsx(l,{className:"bg-blue-100 text-blue-900 text-xs font-bold",children:(N=f.teacher_name,N?N.split(" ").filter(Boolean).map(e=>e[0].toUpperCase()).join(""):"NN")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-base truncate",children:f.subject_name||"Занятие"}),e.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["Преподаватель: ",f.teacher_name||"Не указан"]})]})]}),e.jsx(r,{variant:"outline",className:`flex-shrink-0 ${u[f.status]||u.pending}`,children:{pending:"Ожидание подтверждения",confirmed:"Подтверждено",completed:"Завершено",cancelled:"Отменено"}[f.status]||"Неизвестно"})]})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(d,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),e.jsx("span",{children:f.date?c(new Date(f.date),"d MMMM yyyy",{locale:m}):"Дата не указана"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(x,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),e.jsx("span",{children:f.start_time&&f.end_time?`${f.start_time.slice(0,5)} - ${f.end_time.slice(0,5)}`:"Время не указано"})]})]}),f.description&&e.jsx("div",{className:"pt-2 border-t",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:f.description})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[f.telemost_link&&e.jsx(i,{type:"button",asChild:!0,size:"sm",className:"flex-1",children:e.jsxs("a",{href:f.telemost_link,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden xs:inline",children:"Присоединиться к уроку"}),e.jsx("span",{className:"xs:hidden",children:"К уроку"})]})}),!f.telemost_link&&e.jsxs("div",{className:"flex-1 flex items-center text-xs text-muted-foreground bg-muted rounded px-3 py-2",children:[e.jsx(h,{className:"w-4 h-4 mr-2 flex-shrink-0"}),"Место встречи не указано"]})]})]})]});var N};export{f as L};
