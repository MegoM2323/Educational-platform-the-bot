# THE_BOT Platform - Production Native Deployment (NO DOCKER)
# Generated for the-bot.ru on 2026-01-06

# ============================================================================
# DATABASE CONFIGURATION (Local PostgreSQL on same server)
# ============================================================================
ENVIRONMENT=production
DEBUG=False

DATABASE_URL=postgresql://postgres:postgres@localhost:5432/thebot_db
DB_HOST=localhost
DB_NAME=thebot_db
DB_USER=postgres
DB_PASSWORD=SW6fAJLgLU57oV3EATcZe9Ofi
DB_PORT=5432
DB_SSLMODE=disable

# ============================================================================
# DJANGO BACKEND CONFIGURATION
# ============================================================================
BACKEND_PORT=8000
SECRET_KEY=W1&G4DCq_nl$S(JWK7+4D1Rxh_Uu_!A=yYkThcEO49E6oWXKqRl#8xaWQ^%6cFwTJY

# Allowed hosts
ALLOWED_HOSTS=the-bot.ru,www.the-bot.ru,localhost,127.0.0.1

# CORS configuration
CORS_ALLOWED_ORIGINS=https://the-bot.ru,https://www.the-bot.ru,http://localhost,http://127.0.0.1

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
FRONTEND_PORT=80
NODE_ENV=production
APP_NAME=THE_BOT

# API endpoints
API_URL=https://the-bot.ru/api
WS_URL=wss://the-bot.ru/ws
FRONTEND_URL=https://the-bot.ru

# ============================================================================
# REDIS CONFIGURATION (Local Redis on same server)
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=Ir7iGAtdDoiP4dlkYsPW
USE_REDIS_CACHE=True
USE_REDIS_CHANNELS=True

# ============================================================================
# EXTERNAL SERVICES (Optional)
# ============================================================================
YOOKASSA_SHOP_ID=
YOOKASSA_SECRET_KEY=
OPENROUTER_API_KEY=
PACHCA_FORUM_API_TOKEN=
TELEGRAM_BOT_TOKEN=

# ============================================================================
# EMAIL CONFIGURATION (Console for development)
# ============================================================================
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=localhost
EMAIL_PORT=1025

# ============================================================================
# WEBSOCKET CONFIGURATION (Production)
# ============================================================================
# Production WebSocket tuning for reliability
# Shorter intervals and stricter timeouts to detect disconnections faster
WEBSOCKET_HEARTBEAT_INTERVAL=60
WEBSOCKET_HEARTBEAT_TIMEOUT=20
WEBSOCKET_AUTH_TIMEOUT=20
WEBSOCKET_MESSAGE_SIZE_LIMIT=5000
WEBSOCKET_MAX_CONNECTIONS_PER_USER=3
WEBSOCKET_RECONNECT_BACKOFF_MULTIPLIER=2.0
WEBSOCKET_RECONNECT_MAX_DELAY=32000

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=INFO
DJANGO_SETTINGS_MODULE=config.settings
PYTHONUNBUFFERED=1
