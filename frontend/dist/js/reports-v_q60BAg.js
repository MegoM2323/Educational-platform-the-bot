const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/main-fde3JC90.js","js/react-core-JVqWokWt.js","js/react-dom-DyRXjBRd.js","js/vendor-DC2AZkDs.js","js/d3-lib-BmB4v4DK.js","js/radix-ui-Ch8xfAyl.js","js/react-query-DqnBFrGE.js","js/react-router-WAeXREDX.js","js/charts-CKrVAx-o.js","css/main-BeSJoGJH.css"])))=>i.map(i=>d[i]);
import{f as e,l as r,ai as t}from"./main-fde3JC90.js";const o={getReports:async()=>{r.debug("[API] Fetching tutor weekly reports...");const t=await e.request("/reports/tutor-weekly-reports/");if(r.debug("[API] Tutor weekly reports response:",t),t.error)throw r.error("[API] Tutor weekly reports error:",t.error),new Error(t.error);const o=t.data||[];return r.debug("[API] Tutor weekly reports data:",o,"length:",o.length),o},getReport:async r=>{const t=await e.request(`/reports/tutor-weekly-reports/${r}/`);if(t.error)throw new Error(t.error);return t.data},createReport:async r=>{const{cacheService:o}=await t(async()=>{const{cacheService:e}=await import("./main-fde3JC90.js").then(e=>e.aZ);return{cacheService:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]));o.delete("/reports/tutor-weekly-reports/"),o.delete("/reports/tutor-weekly-reports/available_students/");if(r.attachment&&r.attachment instanceof File){const t=new FormData;Object.entries(r).forEach(([e,r])=>{null!=r&&("attachment"===e&&r instanceof File?t.append(e,r):t.append(e,String(r)))});const a=await e.request("/reports/tutor-weekly-reports/",{method:"POST",body:t});if(!a.success||a.error)throw new Error(a.error||"Ошибка при создании отчета");if(!a.data)throw new Error("Отчет не был создан");return o.delete("/reports/tutor-weekly-reports/"),a.data}{const t={...r};delete t.attachment;const a=await e.request("/reports/tutor-weekly-reports/",{method:"POST",body:JSON.stringify(t)});if(!a.success||a.error)throw new Error(a.error||"Ошибка при создании отчета");if(!a.data)throw new Error("Отчет не был создан");return o.delete("/reports/tutor-weekly-reports/"),a.data}},updateReport:async(r,t)=>{if(t.attachment&&t.attachment instanceof File){const o=new FormData;Object.entries(t).forEach(([e,r])=>{null!=r&&("attachment"===e&&r instanceof File?o.append(e,r):o.append(e,String(r)))});const a=await e.request(`/reports/tutor-weekly-reports/${r}/`,{method:"PATCH",body:o});if(a.error)throw new Error(a.error);return a.data}{const o={...t};delete o.attachment;const a=await e.request(`/reports/tutor-weekly-reports/${r}/`,{method:"PATCH",body:JSON.stringify(o)});if(a.error)throw new Error(a.error);return a.data}},deleteReport:async r=>{const t=await e.request(`/reports/tutor-weekly-reports/${r}/`,{method:"DELETE"});if(t.error)throw new Error(t.error)},sendReport:async r=>{const{cacheService:o}=await t(async()=>{const{cacheService:e}=await import("./main-fde3JC90.js").then(e=>e.aZ);return{cacheService:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]));o.delete("/reports/tutor-weekly-reports/");const a=await e.request(`/reports/tutor-weekly-reports/${r}/send/`,{method:"POST"});if(!a.success||a.error)throw new Error(a.error||"Ошибка при отправке отчета");o.delete("/reports/tutor-weekly-reports/")},markAsRead:async r=>{const t=await e.request(`/reports/tutor-weekly-reports/${r}/mark_read/`,{method:"POST"});if(t.error)throw new Error(t.error)},getAvailableStudents:async()=>{var t;r.debug("[API] Fetching tutor available students...");const o=await e.request("/reports/tutor-weekly-reports/available_students/");if(r.debug("[API] Tutor available students response:",o),o.error)throw r.error("[API] Tutor available students error:",o.error),new Error(o.error);const a=(null==(t=o.data)?void 0:t.students)||[];return r.debug("[API] Tutor available students data:",a,"length:",a.length),a}},a={getReports:async()=>{r.debug("[API] Fetching teacher weekly reports...");const t=await e.request("/reports/teacher-weekly-reports/");if(r.debug("[API] Teacher weekly reports response:",t),t.error)throw r.error("[API] Teacher weekly reports error:",t.error),new Error(t.error);const o=t.data||[];return r.debug("[API] Teacher weekly reports data:",o,"length:",o.length),o},getReport:async r=>{const t=await e.request(`/reports/teacher-weekly-reports/${r}/`);if(t.error)throw new Error(t.error);return t.data},createReport:async r=>{const{cacheService:o}=await t(async()=>{const{cacheService:e}=await import("./main-fde3JC90.js").then(e=>e.aZ);return{cacheService:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]));o.delete("/reports/teacher-weekly-reports/"),o.delete("/reports/teacher-weekly-reports/available_students/");if(r.attachment&&r.attachment instanceof File){const t=new FormData;Object.entries(r).forEach(([e,r])=>{null!=r&&("attachment"===e&&r instanceof File?t.append(e,r):t.append(e,String(r)))});const a=await e.request("/reports/teacher-weekly-reports/",{method:"POST",body:t});if(!a.success||a.error)throw new Error(a.error||"Ошибка при создании отчета");if(!a.data)throw new Error("Отчет не был создан");return o.delete("/reports/teacher-weekly-reports/"),a.data}{const t={...r};delete t.attachment;const a=await e.request("/reports/teacher-weekly-reports/",{method:"POST",body:JSON.stringify(t)});if(!a.success||a.error)throw new Error(a.error||"Ошибка при создании отчета");if(!a.data)throw new Error("Отчет не был создан");return o.delete("/reports/teacher-weekly-reports/"),a.data}},updateReport:async(r,t)=>{if(t.attachment&&t.attachment instanceof File){const o=new FormData;Object.entries(t).forEach(([e,r])=>{null!=r&&("attachment"===e&&r instanceof File?o.append(e,r):o.append(e,String(r)))});const a=await e.request(`/reports/teacher-weekly-reports/${r}/`,{method:"PATCH",body:o});if(a.error)throw new Error(a.error);return a.data}{const o={...t};delete o.attachment;const a=await e.request(`/reports/teacher-weekly-reports/${r}/`,{method:"PATCH",body:JSON.stringify(o)});if(a.error)throw new Error(a.error);return a.data}},deleteReport:async r=>{const t=await e.request(`/reports/teacher-weekly-reports/${r}/`,{method:"DELETE"});if(t.error)throw new Error(t.error)},sendReport:async r=>{const{cacheService:o}=await t(async()=>{const{cacheService:e}=await import("./main-fde3JC90.js").then(e=>e.aZ);return{cacheService:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]));o.delete("/reports/teacher-weekly-reports/");const a=await e.request(`/reports/teacher-weekly-reports/${r}/send/`,{method:"POST"});if(!a.success||a.error)throw new Error(a.error||"Ошибка при отправке отчета");o.delete("/reports/teacher-weekly-reports/")},markAsRead:async r=>{const t=await e.request(`/reports/teacher-weekly-reports/${r}/mark_read/`,{method:"POST"});if(t.error)throw new Error(t.error)},getAvailableStudents:async()=>{var t;r.debug("[API] Fetching teacher available students...");const o=await e.request("/reports/teacher-weekly-reports/available_students/");if(r.debug("[API] Teacher available students response:",o),o.error)throw r.error("[API] Teacher available students error:",o.error),new Error(o.error);const a=(null==(t=o.data)?void 0:t.students)||[];return r.debug("[API] Teacher available students data:",a,"length:",a.length),a},getReportsByStudent:async r=>{const t=await e.request(`/reports/teacher-weekly-reports/by_student/?student_id=${r}`);if(t.error)throw new Error(t.error);return t.data||[]}};export{o as a,a as t};
