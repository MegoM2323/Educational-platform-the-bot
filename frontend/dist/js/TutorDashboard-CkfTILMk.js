import{j as s}from"./react-core-JVqWokWt.js";import{M as e,O as a,Q as l,R as r,U as t,S as i,a as n,e as c,C as o,b as d,G as m,N as x,V as h,W as u,B as j,c as p,X as f,A as N,v as g}from"./main-fde3JC90.js";import{T as v}from"./TutorSidebar-DEiDMEeu.js";import{u as b}from"./useTutor-cHjriqfV.js";import{u as y}from"./react-router-WAeXREDX.js";import{$ as w,ax as C,aa as _,aq as k,ac as $}from"./vendor-DC2AZkDs.js";import"./react-dom-DyRXjBRd.js";import"./radix-ui-Ch8xfAyl.js";import"./react-query-DqnBFrGE.js";import"./charts-CKrVAx-o.js";import"./d3-lib-BmB4v4DK.js";const z=()=>{var z,R,S,T,q;const{user:A,signOut:D}=e(),E=y();a(),l(),r();const{data:L,isLoading:O,error:U,refetch:B}=b(),{profileData:G,isLoading:M,error:Q,refetch:V}=t(),W=(null==U?void 0:U.message)||null;return s.jsx(i,{children:s.jsxs("div",{className:"flex min-h-screen w-full",children:[s.jsx(v,{}),s.jsxs(n,{children:[s.jsxs("header",{className:"sticky top-0 z-10 flex h-16 items-center justify-between gap-4 border-b bg-background px-6",children:[s.jsx(c,{}),s.jsx("h1",{className:"text-2xl font-bold",children:"–ú–æ–∏ —Å—Ç—É–¥–µ–Ω—Ç—ã"})]}),s.jsx("main",{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold",children:["–ü—Ä–∏–≤–µ—Ç, ",(null==A?void 0:A.first_name)||"–¢—å—é—Ç–æ—Ä","! üëã"]}),s.jsx("p",{className:"text-muted-foreground",children:"–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏, –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –æ—Ç—á–µ—Ç—ã —Ä–æ–¥–∏—Ç–µ–ª—è–º"})]}),M?s.jsx(o,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(d,{className:"h-24 w-24 rounded-full"}),s.jsx(d,{className:"h-8 w-1/3"}),s.jsx(d,{className:"h-4 w-1/2"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(d,{className:"h-4 w-full"}),s.jsx(d,{className:"h-4 w-5/6"})]})]})}):Q?s.jsx(m,{error:Q.message||"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.",onRetry:()=>{V()}}):(null==G?void 0:G.user)?s.jsx(x,{userName:G.user.full_name||`${G.user.first_name} ${G.user.last_name}`.trim(),userEmail:G.user.email,userRole:"tutor",profileData:{specialization:"string"==typeof(null==(z=G.profile)?void 0:z.specialization)?G.profile.specialization:void 0,experience:"number"==typeof(null==(R=G.profile)?void 0:R.experience_years)?G.profile.experience_years:void 0,studentsCount:null!=(S=null==L?void 0:L.length)?S:0,reportsCount:"number"==typeof(null==(T=G.profile)?void 0:T.reportsCount)?G.profile.reportsCount:0},onEdit:()=>{E("/profile/tutor")}}):null,W&&s.jsxs(h,{variant:"destructive",children:[s.jsx(w,{className:"h-4 w-4"}),s.jsxs(u,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤: ",W]}),s.jsxs(j,{type:"button",onClick:()=>B(),size:"sm",variant:"outline",className:"ml-2",children:[s.jsx(C,{className:"w-4 h-4 mr-2"}),"–ü–æ–≤—Ç–æ—Ä–∏—Ç—å"]})]})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:s.jsx(o,{className:"p-4 hover:border-primary transition-colors cursor-pointer",onClick:()=>E("/dashboard/tutor/students"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 gradient-primary rounded-lg flex items-center justify-center",children:s.jsx(_,{className:"w-6 h-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:O?"‚Ä¶":null!=(q=null==L?void 0:L.length)?q:0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"–£—á–µ–Ω–∏–∫–æ–≤"})]})]})})}),s.jsxs(o,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"text-xl font-bold",children:"–°–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤"}),!O&&L&&L.length>0&&s.jsx(p,{variant:"secondary",className:"ml-2",children:L.length})]})}),O&&s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[1,2,3,4].map(e=>s.jsx(o,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(d,{className:"h-12 w-12 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(d,{className:"h-5 w-3/4"}),s.jsx(d,{className:"h-4 w-1/2"}),s.jsx(d,{className:"h-3 w-full"})]})]})},`student-skeleton-${e}`))}),!O&&!W&&L&&0===L.length&&s.jsx(f,{title:"–ù–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤",description:"–£ –≤–∞—Å –µ—â–µ –Ω–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤",icon:s.jsx(_,{className:"w-12 h-12 text-muted-foreground"})}),!O&&!W&&L&&L.length>0&&s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:L.map(e=>s.jsx(o,{className:"p-4 hover:border-primary transition-colors cursor-pointer",onClick:()=>E("/dashboard/tutor/students"),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(N,{className:"h-12 w-12",children:s.jsx(g,{children:(e.full_name||e.first_name||"S").charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"font-medium",children:e.full_name||`${e.first_name||""} ${e.last_name||""}`.trim()}),s.jsxs(p,{variant:"outline",children:[e.grade||"-"," –∫–ª–∞—Å—Å"]})]}),e.goal?s.jsxs("div",{className:"text-sm text-muted-foreground mb-1",children:["–¶–µ–ª—å: ",e.goal]}):null,e.subjects&&e.subjects.length>0?s.jsxs("div",{className:"text-xs text-muted-foreground",children:["–ü—Ä–µ–¥–º–µ—Ç—ã: ",e.subjects.map(s=>s.name).join(", ")]}):s.jsx("div",{className:"text-xs text-muted-foreground",children:"–ü—Ä–µ–¥–º–µ—Ç—ã –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã"})]})]})},e.id))})]}),s.jsxs(o,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è"}),s.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(j,{type:"button",variant:"outline",className:"h-auto flex-col gap-2 py-6",onClick:()=>E("/dashboard/tutor/students"),children:[s.jsx(_,{className:"w-6 h-6"}),s.jsx("span",{children:"–ú–æ–∏ —É—á–µ–Ω–∏–∫–∏"})]}),s.jsxs(j,{type:"button",variant:"outline",className:"h-auto flex-col gap-2 py-6",onClick:()=>E("/dashboard/tutor/reports"),children:[s.jsx(k,{className:"w-6 h-6"}),s.jsx("span",{children:"–û—Ç—á—ë—Ç—ã"})]}),s.jsxs(j,{type:"button",variant:"outline",className:"h-auto flex-col gap-2 py-6",onClick:()=>E("/dashboard/tutor/forum"),children:[s.jsx($,{className:"w-6 h-6"}),s.jsx("span",{children:"–§–æ—Ä—É–º"})]}),s.jsxs(j,{type:"button",variant:"outline",className:"h-auto flex-col gap-2 py-6",onClick:()=>E("/dashboard/tutor/chat"),children:[s.jsx($,{className:"w-6 h-6"}),s.jsx("span",{children:"–°–æ–æ–±—â–µ–Ω–∏—è"})]})]})]})]})})]})]})})};export{z as default};
