# THE_BOT Platform - Production Environment Configuration
#
# This file is an EXAMPLE for production environments.
# Copy and customize these values for your production deployment.
# Use proper secrets management (AWS Secrets Manager, HashiCorp Vault, etc.)
#
# CRITICAL: Never commit actual secrets to version control!

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL is required for all environments (development, staging, production)
# Do NOT use SQLite - it is not supported in production
# Use managed PostgreSQL service (AWS RDS, Google Cloud SQL, etc.)
#
# IMPORTANT: Use individual DB_* variables below (preferred)
# Do NOT use DATABASE_URL - special characters in passwords break URL parsing
#
# Individual DB_* variables are more maintainable and handle special characters properly
DB_HOST=db.example.com
DB_PORT=5432
DB_NAME=thebot_db_prod
DB_USER=postgres
DB_PASSWORD=your-secure-password-here
DB_SSLMODE=require
DB_CONNECT_TIMEOUT=60

# ============================================================================
# REDIS CONFIGURATION (Cache + Channels Layer)
# ============================================================================
# Redis - Required for caching, Celery message broker and WebSockets
# Use managed Redis service (AWS ElastiCache, Redis Cloud, etc.)
# NB: NOT used as primary data storage
REDIS_URL=redis://:your-secure-password@redis.example.com:6379/0
REDIS_PASSWORD=your-secure-redis-password
REDIS_PORT=6379
USE_REDIS_CACHE=True
USE_REDIS_CHANNELS=True

# ============================================================================
# DJANGO BACKEND CONFIGURATION
# ============================================================================
BACKEND_PORT=8000
ENVIRONMENT=production
DEBUG=False

# CRITICAL: Generate a new secret key for production
# Command: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-production-secret-key-here-change-immediately

# Allowed hosts for Django - Configure for your domain
ALLOWED_HOSTS=example.com,www.example.com,api.example.com

# CORS configuration for frontend access
CORS_ALLOWED_ORIGINS=https://example.com,https://www.example.com

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
FRONTEND_PORT=3000
NODE_ENV=production
APP_NAME=THE_BOT

# API endpoints - Use HTTPS for production
API_URL=https://api.example.com/api
WS_URL=wss://api.example.com/ws

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================

# Yookassa Payment Processing
YOOKASSA_SHOP_ID=your-shop-id
YOOKASSA_SECRET_KEY=your-secret-key

# OpenRouter AI API
OPENROUTER_API_KEY=your-api-key

# Pachca Forum Integration
PACHCA_FORUM_API_TOKEN=your-token

# Telegram Bot
TELEGRAM_BOT_TOKEN=your-bot-token

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=WARNING

# ============================================================================
# PRODUCTION NOTES
# ============================================================================
# 1. Database:
#    - Use managed PostgreSQL service (Supabase PostgreSQL, AWS RDS, etc.)
#    - Enable automated backups
#    - Set DB_SSLMODE=require for encrypted connections
#    - Never use SQLite in production
#
# 2. Redis:
#    - Use managed Redis service (Redis Cloud, AWS ElastiCache, etc.)
#    - Enable persistence and backups
#    - Use strong passwords
#    - Ensure private network connectivity
#
# 3. Security:
#    - Change SECRET_KEY to a secure random value
#    - Use HTTPS only (WS_URL must use wss://)
#    - Configure ALLOWED_HOSTS correctly
#    - Use SSL certificates (Let's Encrypt, AWS Certificate Manager, etc.)
#    - Store secrets in secure vault (not in this file!)
#
# 4. Performance:
#    - Enable Redis caching for static content
#    - Use CDN for static files and media
#    - Configure proper database indexes
#    - Monitor database and Redis performance
#
# 5. Monitoring:
#    - Set LOG_LEVEL=WARNING in production
#    - Configure error tracking (Sentry, etc.)
#    - Monitor API performance
#    - Set up alerts for database and Redis failures
#
# 6. Do NOT use in production:
#    - SQLite database
#    - Supabase (Firebase is also not recommended)
#    - Local Redis instance
#    - DEBUG=True
#    - Default SECRET_KEY
